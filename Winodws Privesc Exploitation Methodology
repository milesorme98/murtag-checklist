                                                                     General Concepts


All privilege escalations are effectively exmaples of access control violations.

access control and user permissions are intrinsically linked.

when focusing on privielege escalation in windows, understanding how windows handles permissions is very important

---------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                                                    Understanding Permissions
                                                                          USER ACCOUNTS

User accounts are used to log into a windows system. Think of a user account as a collection of settings / prefrences bound to a unique identity 

the local "Administrator" account is created by default at installation. Several other default iser accounts may exist guest etc.
depending on the version of windows 

                                                                          SERVICE ACCOUNTS
Service accounts are used to run services in windows. 

Service accounts cannot be used to sign into a Windows system.

the SYSTEM account is a efault service account which has the highest privileges of any local account in windows.

other default service accounts include NETWORK SERVICE and LOCAL SERVICE

                                                                              GROUPS
User accounts can belong to multiple groups, amd groups can have multiple users.

Groups allow for easier access control to resources.

Regular groups example Administrators have a set list of members.

Pseudo groups example "Authenticated Users" have a dynamic list of members whuch changes based on certain interactions.

                                                                          RESOURCES/OBJECTS

In windows, there are multiple types of resource or objects

- files / directories
- Registry Entries
- Services 

weather a user and/or group has permission to perform a certain action on a resource depends on that resource's access control list (ACL)

                                                                          ACLs & ACEs
Permissions to access a certain resource in windows are controlled by the access control list or ACL for that resource

each ACL is made up of zero or more access control entries or ACEs

Each ACE defines the relationship between a principal example a user or group, and a certain access right.

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                                                         SERVICE EXPLOITS

Services are simpely programs that run in the background accepting input or performing regular tasks

if services run with SYSTEM privileges and are miconfigured, exploiting them may lead to command execution with SYSTEM privileges as well

                                                                        Service misconfigurations
1. insecure service properties
2. unquoted service path
3. weak registry permissions 
4. insecure service executables
5. DLL Hijacking

                                                                      Insecure Service Permissions
                                                                      
Each Service has an ACL which defines certain service-specific permissions.

if our user has permission to change the configuration of a service which runs with SYSTEM privileges we can change the executable the service uses to one of our own.

POTENTIAL RABBIT HOLE
if you can change a service configuration but cannot stop/start the service you may not be able to escalate privileges 





                                                                              
